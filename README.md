# AsmVm — Assembler and Interpreter for Custom VM

## Описание проекта

Проект представляет собой **CLI-приложение**, реализующее ассемблер и интерпретатор для учебной виртуальной машины (УВМ) с собственным человекочитаемым языком команд. Программа позволяет:

* Транслировать исходный текст на ассемблере в бинарный формат
* Выполнять бинарные программы на виртуальной машине
* Работать с памятью и реализовывать команды `load`, `read`, `write` и `pow`
* При желании сохранять дамп памяти в формате XML после выполнения программы

## Основные команды языка

| Команда | Формат | Описание |
|---------|--------|----------|
| **load**    | `load <dest> <const>` | Загружает константу в ячейку памяти `dest` |
| **read**    | `read <dest> <src> <offset>` | Считывает значение из памяти: `memory[dest] = memory[memory[src]+offset]` |
| **write**   | `write <dest> <src> <offset>` | Записывает значение из регистра/ячейки `src` в память: `memory[memory[dest]+offset] = memory[src]` |
| **pow**     | `pow <dest> <a> <b> <offset>` | Вычисляет `memory[dest] = memory[a] ^ memory[b+offset]` |

## Особенности реализации

### 1. Assembler

* Поддержка всех команд `load`, `read`, `write`, `pow`
* Генерация 7-байтовых бинарных слов для каждой инструкции
* Проверка диапазонов для констант и адресов

### 2. Interpreter

* Последовательное выполнение инструкций
* Поддержка косвенной адресации для `read` и `write`
* Встроенный вывод выполняемых инструкций и состояния памяти
* Возможность дампа памяти в XML

### 3. Дамп памяти (XML)

* Опциональный аргумент командной строки при запуске `run`
* Сохраняются только ненулевые ячейки
* Структура XML:

```xml
<?xml version="1.0" encoding="UTF-8"?>
<memory>
  <cell address="10">5</cell>
  <cell address="11">10</cell>
  <cell address="12">15</cell>
</memory>
```

### 4. Тестирование
* Созданы тестовые программы для копирования массивов из одной области памяти в другую
* Проверялась корректность команд load, read, write, pow
* дамп памяти в формате XML для всех ненулевых ячеек

### 5. Заключение

Проект обеспечивает полную цепочку:

человекочитаемый ассемблер → бинарная программа → интерпретатор → дамп памяти

что удобно для учебного процесса и экспериментов с виртуальной машиной.
